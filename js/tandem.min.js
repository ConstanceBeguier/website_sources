var navLinks = document.getElementsByClassName("nav-link");
for (var i = 0; i < navLinks.length; i++) {
  navLinks[i].setAttribute("onclick", "updateActive(this)");
}
var divs = document.getElementsByClassName("position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center");
for (var i = 0; i < divs.length; i++) {
  divs[i].setAttribute("onmouseover", "updateActive(this)");
}
function updateActive(origin) {
  var navLinksActived = document.getElementsByClassName("nav-link active");
  for (var i = 0; i < navLinksActived.length; i++) {
    navLinksActived[i].className = "nav-link";
  }
  if (origin.tagName == "DIV") {
    document.getElementById("nav-" + origin.id).className = "nav-link active";
  } else {
    origin.className = "nav-link active";
  }
}
function deobfuscate() {
  document.getElementById("company").innerHTML = document.getElementById("company").innerHTML.replace("456 789", "421 392");
  document.getElementById("email").innerHTML = document.getElementById("email").innerHTML.replace(" _at_ ", "@");
  document.getElementById("tel").innerHTML = document.getElementById("tel").innerHTML.replace("1234 5678", "7744 0984");
}
function getContent() {
  $.ajax({
    url: "/tandem-technology/content.json",
    type: "GET",
    success: function (content) {
      for (const sectionId in content) {
        fillText(sectionId, content[sectionId]);
      }
    },
    error: function (content) {
      console.error(content);
    },
  });
}
function fillText(section, content) {
  div = document.getElementById(section)
  if (div !== null) {
    if (div.querySelector("h1") !== null) {
      div.querySelector("h1").innerHTML = content.title;
    } else {
      div.querySelector("h2").innerHTML = content.title;
    }
    description = "";
    for (const line in content.description) {
      description += content.description[line] + "<br>";
    }
    div.querySelector("p").innerHTML = description;
  } else {
    console.log("section "+section+" not found...")
  }
}

getContent();
deobfuscate();
